(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58882,e=>{"use strict";var t=e.i(43476);function r({currentStep:e,totalSteps:r,labels:a}){return(0,t.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:Array.from({length:r},(o,n)=>{let i=n+1,s=i===e,l=i<e;return(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:`
                flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium
                transition-colors
                ${s?"bg-retro-cyan text-retro-dark":l?"bg-retro-cyan/30 text-retro-cyan":"bg-retro-grid/30 text-gray-500"}
              `,children:l?(0,t.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"})}):i}),(0,t.jsx)("span",{className:`
                ml-2 text-sm hidden sm:inline
                ${s?"text-retro-cyan":l?"text-gray-400":"text-gray-500"}
              `,children:a[n]}),i<r&&(0,t.jsx)("div",{className:`
                  w-8 sm:w-12 h-0.5 mx-2 sm:mx-4
                  ${l?"bg-retro-cyan/50":"bg-retro-grid/30"}
                `})]},i)})})}e.s(["ImportStepIndicator",()=>r])},71721,65729,35437,42338,33003,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47509),o=e.i(39233),n=e.i(7540),i=e.i(94971);function s({presets:e,isSelected:a,onSelect:o,getTooltip:i,overflowSectionLabel:s="Other Options",renderDropdownSections:l,disabled:c=!1,className:d=""}){let h=(0,r.useRef)(null),[m,u]=(0,r.useState)(e.length),p=(0,n.useDropdown)(),g=[...e].sort((e,t)=>t.priority-e.priority),x=(0,r.useCallback)(()=>{h.current&&u(Math.max(2,Math.min(Math.floor((h.current.offsetWidth-56-8+8)/56),e.length)))},[e.length]);(0,r.useEffect)(()=>{x();let e=new ResizeObserver(()=>{x()});return h.current&&e.observe(h.current),()=>e.disconnect()},[x]);let y=(0,r.useCallback)(e=>{o(e),p.close()},[o,p]),b=[],f=[],C=new Set(g.slice(0,m).map(e=>e.label));for(let t of e)C.has(t.label)?b.push(t):f.push(t);return(0,t.jsx)("div",{ref:h,className:`relative ${d}`,children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[b.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>y(e),disabled:c,title:i?.(e),className:`
              px-3 py-1 text-xs rounded border transition-colors
              ${a(e)?"border-retro-pink bg-retro-pink/10 text-retro-pink":"border-retro-grid/50 text-gray-400 hover:border-retro-grid"}
              disabled:opacity-50
            `,children:e.label},e.label)),(0,t.jsxs)("div",{ref:p.ref,className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:p.toggle,disabled:c,className:"px-3 py-1 text-xs rounded text-retro-cyan bg-gradient-to-b from-gray-600/50 to-gray-700/50 border border-retro-cyan/50 border-t-retro-cyan/70 hover:from-gray-500/50 hover:to-gray-600/50 hover:border-retro-cyan active:from-gray-700/50 active:to-gray-800/50 shadow-md shadow-black/30 active:shadow-sm flex items-center gap-1 transition-all disabled:opacity-50",children:["More",(0,t.jsx)("svg",{className:`w-3 h-3 transition-transform ${p.isOpen?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.isOpen&&(0,t.jsxs)("div",{className:"absolute z-50 left-0 top-full mt-1 w-72 max-h-96 overflow-y-auto bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl",children:[f.length>0&&(0,t.jsxs)("div",{className:"p-2 border-b border-retro-grid/30",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 uppercase mb-1",children:s}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:f.map(e=>(0,t.jsx)("button",{onClick:()=>y(e),disabled:c,title:i?.(e),className:`
                          px-2 py-1 text-xs rounded transition-colors
                          ${a(e)?"bg-retro-pink/20 text-retro-pink":"text-gray-400 hover:bg-retro-grid/20"}
                          disabled:opacity-50
                        `,children:e.label},e.label))})]}),l?.(p.close)]})]})]})})}e.s(["AdaptivePresetSelector",()=>s],65729);var l=i;e.s(["PresetDropdownSectionHeader",()=>l.DropdownSectionHeader],35437);var l=i,c=i;e.s(["PresetDropdownGroup",()=>c.DropdownGroup],42338);var c=i,d=i;e.s(["PresetDropdownButton",()=>d.DropdownChipButton],33003);var d=i;function h({currentWidth:e,currentHeight:n,onSelect:i,presets:h=a.UNIFIED_DIMENSION_PRESETS,includeFontSize:m=!1,disabled:u=!1,className:p=""}){let g=(0,o.getSystemPresetsByManufacturer)(),x=(0,o.getRomChipPresetsByManufacturer)(),y=(0,r.useCallback)(t=>e===t.width&&n===t.height,[e,n]),b=(0,r.useCallback)((t,r)=>e===t&&n===r,[e,n]),f=(0,r.useCallback)(e=>{m&&e.recommendedFontSize?i(e.width,e.height,e.recommendedFontSize):i(e.width,e.height)},[i,m]),C=(0,r.useCallback)(e=>e.examples.length>0?e.examples.join(", "):void 0,[]),w=(0,r.useCallback)(e=>(0,t.jsxs)(t.Fragment,{children:[Object.keys(g).length>0&&(0,t.jsx)(l.DropdownSectionHeader,{title:"Systems"}),Object.entries(g).filter(([,e])=>e.length>0).map(([r,a])=>(0,t.jsx)(c.DropdownGroup,{label:r,children:a.map(r=>(0,t.jsx)(d.DropdownChipButton,{label:r.system,isSelected:b(r.width,r.height),onClick:()=>{i(r.width,r.height),e()},title:`${r.width}x${r.height}`,disabled:u},`${r.system}-${r.width}x${r.height}`))},r)),Object.keys(x).length>0&&(0,t.jsx)(l.DropdownSectionHeader,{title:"Character ROM ICs",showDivider:!0}),Object.entries(x).filter(([,e])=>e.length>0).map(([r,a])=>(0,t.jsx)(c.DropdownGroup,{label:r,children:a.map(r=>(0,t.jsx)(d.DropdownChipButton,{label:r.partNumber,isSelected:b(r.width,r.height),onClick:()=>{i(r.width,r.height),e()},title:r.usedIn.length>0?`${r.width}x${r.height} - Used in: ${r.usedIn.join(", ")}`:`${r.width}x${r.height}`,disabled:u},`${r.id}-${r.width}x${r.height}`))},`rom-${r}`))]}),[g,x,b,i,u]);return(0,t.jsx)(s,{presets:h,isSelected:y,onSelect:f,getTooltip:C,overflowSectionLabel:"Other Sizes",renderDropdownSections:w,disabled:u,className:p})}e.s(["DimensionPresetSelector",()=>h],71721)},39364,e=>{"use strict";var t=e.i(43476),r=e.i(28339);function a({title:e="Character Set Details",subtitle:a="Add information about this character set",autoFocusName:o=!1,...n}){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-200 mb-2",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:a})]}),(0,t.jsx)("div",{className:"card-retro p-6",children:(0,t.jsx)(r.MetadataFormFields,{...n,autoFocusName:o,idPrefix:"metadata-step"})})]})}e.s(["MetadataStep",()=>a])},47509,e=>{"use strict";let t=[{width:5,height:7,label:"5x7",examples:["Apple II","TRS-80 CoCo","Dragon 32","MC6847"],recommendedFontSize:6,priority:3},{width:5,height:8,label:"5x8",examples:["TRS-80 Model I","MCM6673"],recommendedFontSize:7,priority:2},{width:5,height:9,label:"5x9",examples:["BBC Micro Mode 7","Philips P2000","SAA5050 Teletext"],recommendedFontSize:8,priority:2},{width:6,height:8,label:"6x8",examples:["Custom"],recommendedFontSize:7,priority:0},{width:8,height:8,label:"8x8",examples:["C64","VIC-20","Atari 400/800","ZX Spectrum","TI-99/4A","MSX","ColecoVision"],recommendedFontSize:8,priority:3},{width:5,height:10,label:"5x10",examples:["HD44780U LCD"],recommendedFontSize:9,priority:1},{width:6,height:10,label:"6x10",examples:[],recommendedFontSize:9,priority:0},{width:5,height:12,label:"5x12",examples:[],recommendedFontSize:10,priority:0},{width:7,height:12,label:"7x12",examples:[],recommendedFontSize:11,priority:0},{width:8,height:12,label:"8x12",examples:["EGA 43-line mode"],recommendedFontSize:11,priority:0},{width:8,height:14,label:"8x14",examples:["IBM EGA","VGA 25-line"],recommendedFontSize:13,priority:1},{width:5,height:16,label:"5x16",examples:[],recommendedFontSize:14,priority:0},{width:8,height:16,label:"8x16",examples:["IBM VGA","PC BIOS"],recommendedFontSize:14,priority:2},{width:16,height:16,label:"16x16",examples:["CJK Characters","Icons"],recommendedFontSize:14,priority:1},{width:32,height:32,label:"32x32",examples:["Large Icons","Sprites"],recommendedFontSize:28,priority:0}];t.find(e=>"8x8"===e.label),t.find(e=>"8x16"===e.label),t.find(e=>"5x7"===e.label),t.find(e=>"8x8"===e.label),t.find(e=>"8x16"===e.label),t.find(e=>"6x8"===e.label),t.find(e=>"16x16"===e.label);let r=[{position:"tl",label:"Top Left",shortLabel:"TL"},{position:"tc",label:"Top Center",shortLabel:"TC"},{position:"tr",label:"Top Right",shortLabel:"TR"},{position:"ml",label:"Middle Left",shortLabel:"ML"},{position:"mc",label:"Middle Center",shortLabel:"MC"},{position:"mr",label:"Middle Right",shortLabel:"MR"},{position:"bl",label:"Bottom Left",shortLabel:"BL"},{position:"bc",label:"Bottom Center",shortLabel:"BC"},{position:"br",label:"Bottom Right",shortLabel:"BR"}];function a(){return r.map(e=>e.position)}function o(e){let t=r.find(t=>t.position===e);return t?.label??e}e.s(["CHARACTER_RANGE_PRESETS",0,[{name:"Printable ASCII",startCode:32,endCode:126,count:95,description:"Space through tilde (~)"},{name:"Extended ASCII",startCode:32,endCode:255,count:224,description:"Includes accented characters"},{name:"Uppercase Only",startCode:65,endCode:90,count:26,description:"A-Z"},{name:"Lowercase Only",startCode:97,endCode:122,count:26,description:"a-z"},{name:"Digits Only",startCode:48,endCode:57,count:10,description:"0-9"},{name:"Full 256",startCode:0,endCode:255,count:256,description:"All 256 codes with blanks"}],"UNIFIED_CHARACTER_COUNT_PRESETS",0,[{count:64,label:"64",examples:["Apple II","TRS-80 CoCo","Dragon 32","MC6847"],description:"Quarter ROM",priority:2},{count:96,label:"96",examples:["ZX Spectrum","BBC Micro Mode 7","SAA5050"],description:"Printable ASCII / Teletext",priority:2},{count:128,label:"128",examples:["Atari 400/800","TRS-80 Model I"],description:"Half ROM",priority:3},{count:213,label:"213",examples:["Intellivision GROM"],description:"Intellivision",priority:1},{count:256,label:"256",examples:["C64","VIC-20","TI-99/4A","MSX","ColecoVision"],description:"Full Set",priority:3},{count:512,label:"512",examples:["Extended ROM"],description:"Extended",priority:0}],"UNIFIED_DIMENSION_PRESETS",0,t,"getAnchorPositionLabel",()=>o,"getAnchorPositions",()=>a])},93733,e=>{"use strict";var t=e.i(43476);let r={pink:"neon-pink",cyan:"neon-cyan",violet:"neon-violet",amber:"neon-amber"},a={pink:"neon-glow-pink",cyan:"neon-glow-cyan",violet:"neon-glow-violet",amber:"neon-glow-amber"};function o({className:e="",color:o="pink",as:n="span",pulse:i=!1,glow:s=!0,children:l,...c}){let d=s?a[o]:"";return(0,t.jsx)(n,{className:`${r[o]} ${i?"animate-pulse":""} ${d} ${e}`,...c,children:l})}e.s(["NeonText",()=>o])},28339,39233,94971,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a=[{system:"Acorn Atom",manufacturer:"Acorn",year:1980,characterRom:{width:5,height:7,characterCount:64},romChipIds:["mc6847"],notes:"64 ASCII characters from MC6847 internal ROM."},{system:"BBC Micro",manufacturer:"Acorn",year:1981,characterRom:{width:8,height:8,characterCount:256},romChipIds:["saa5050"],notes:"Modes 0-6 from OS ROM; Mode 7 Teletext uses SAA5050."},{system:"Amstrad CPC 464",manufacturer:"Amstrad",year:1984,characterRom:{width:8,height:8,characterCount:256},notes:"Font stored in firmware ROM, software-rendered to screen RAM."},{system:"Apple II",manufacturer:"Apple",year:1977,characterRom:{width:5,height:7,characterCount:64},romChipIds:["signetics-2513","gi-ro-3-2513"],notes:"Uppercase letters, numbers, and symbols only."},{system:"MSX",manufacturer:"ASCII/Microsoft",year:1983,characterRom:{width:8,height:8,characterCount:256},romChipIds:["tms9918"],notes:"Font in Main-ROM copied to VRAM. Regional variants available."},{system:"Atari 400",manufacturer:"Atari",year:1979,characterRom:{width:8,height:8,characterCount:128},romChipIds:["atari-os-rom"],notes:"Font stored within OS ROM. Allows redirection to RAM."},{system:"Atari 800",manufacturer:"Atari",year:1979,characterRom:{width:8,height:8,characterCount:128},romChipIds:["atari-os-rom"],notes:"Identical font storage to Atari 400."},{system:"ColecoVision",manufacturer:"Coleco",year:1982,characterRom:{width:8,height:8,characterCount:256},romChipIds:["colecovision-bios","tms9918"],notes:"Font stored in 8KB BIOS ROM, uses TMS9928A VDP."},{system:"VIC-20",manufacturer:"Commodore",year:1980,characterRom:{width:8,height:8,characterCount:256},romChipIds:["mos-901460-03"],notes:"Two character sets: Uppercase/Graphics and Upper/Lowercase."},{system:"C64",manufacturer:"Commodore",year:1982,characterRom:{width:8,height:8,characterCount:256},romChipIds:["mos-901225-01"],notes:"Two character sets: Uppercase/Graphics and Upper/Lowercase (PETSCII)."},{system:"PET 8032",manufacturer:"Commodore",year:1980,characterRom:{width:8,height:8,characterCount:256},romChipIds:["mos-901447-10"],notes:"Business and Graphics character sets."},{system:"Dragon 32",manufacturer:"Dragon Data",year:1982,characterRom:{width:5,height:7,characterCount:64},romChipIds:["mc6847"],notes:"Similar to TRS-80 CoCo, uses MC6847 VDG."},{system:"Intellivision",manufacturer:"Mattel",year:1979,characterRom:{width:8,height:8,characterCount:213},romChipIds:["intellivision-grom"],notes:"GROM contains 213 predefined 8x8 images including alphanumerics."},{system:"NEC PC-6001",manufacturer:"NEC",year:1981,characterRom:{width:5,height:7,characterCount:64},romChipIds:["mc6847"],notes:"Uses MC6847 VDG internal character set."},{system:"Philips P2000",manufacturer:"Philips",year:1980,characterRom:{width:5,height:9,characterCount:96},romChipIds:["saa5050"],notes:"Teletext character set with block graphics."},{system:"Sega SG-1000",manufacturer:"Sega",year:1983,characterRom:{width:8,height:8,characterCount:256},romChipIds:["tms9918"],notes:"No built-in font; patterns loaded from cartridge into VDP RAM."},{system:"Sega SC-3000",manufacturer:"Sega",year:1983,characterRom:{width:8,height:8,characterCount:256},romChipIds:["tms9918"],notes:"Font provided by BASIC cartridge, includes katakana."},{system:"ZX Spectrum",manufacturer:"Sinclair",year:1982,characterRom:{width:8,height:8,characterCount:96},romChipIds:["sinclair-spectrum-rom"],notes:"Printable ASCII (32-127). Font embedded in 16KB system ROM."},{system:"TRS-80 Model I",manufacturer:"Tandy",year:1977,characterRom:{width:5,height:8,characterCount:128},romChipIds:["mcm6673"],notes:"Uppercase only; lowercase via hardware modification."},{system:"TRS-80 CoCo",manufacturer:"Tandy",year:1980,characterRom:{width:5,height:7,characterCount:64},romChipIds:["mc6847"],notes:"MC6847 VDG. Lowercase rendered as inverse uppercase."},{system:"TI-99/4A",manufacturer:"Texas Instruments",year:1981,characterRom:{width:8,height:8,characterCount:256},romChipIds:["tms9918"],notes:"User-definable patterns stored in VDP RAM, loaded from GROM."}],o=[{id:"atari-os-rom",partNumber:"Atari OS ROM",manufacturer:"Atari",type:"System ROM (embedded font)",glyph:{width:8,height:8},glyphCount:128,usedIn:["Atari 400","Atari 800"],notes:"Font in OS ROM; allows software redirection to RAM."},{id:"colecovision-bios",partNumber:"ColecoVision BIOS",manufacturer:"Coleco",type:"System BIOS (8KB)",glyph:{width:8,height:8},glyphCount:256,usedIn:["ColecoVision"],notes:"Contains startup code, bitmap fonts, and utility routines."},{id:"gi-ro-3-2513",partNumber:"RO-3-2513",manufacturer:"General Instrument",type:"Mask ROM",glyph:{width:5,height:7},glyphCount:64,usedIn:["Apple II"],notes:"Pin-compatible with Signetics 2513, used in Apple II clones."},{id:"intellivision-grom",partNumber:"GROM",manufacturer:"General Instrument",type:"Graphics ROM (part of STIC)",glyph:{width:8,height:8},glyphCount:213,usedIn:["Intellivision"],notes:"Contains 213 predefined 8x8 images including alphanumerics."},{id:"mos-901225-01",partNumber:"901225-01",manufacturer:"MOS Technology",type:"Mask ROM (2332-type)",glyph:{width:8,height:8},glyphCount:256,usedIn:["C64"],notes:"Commonly replaced via EPROM adapters for custom fonts."},{id:"mos-901447-10",partNumber:"901447-10",manufacturer:"MOS Technology",type:"Mask ROM (2316-type)",glyph:{width:8,height:8},glyphCount:256,usedIn:["PET 8032"],notes:"Reversed characters generated by hardware logic."},{id:"mos-901460-03",partNumber:"901460-03",manufacturer:"MOS Technology",type:"Mask ROM (2332-type)",glyph:{width:8,height:8},glyphCount:256,usedIn:["VIC-20"],notes:"4KÃ—8 mask ROM; byte-wide organization."},{id:"mc6847",partNumber:"MC6847",manufacturer:"Motorola",type:"Video Display Generator (VDG)",glyph:{width:5,height:7},glyphCount:64,usedIn:["TRS-80 CoCo","Dragon 32","Acorn Atom","NEC PC-6001"],notes:"All-in-one VDG with internal 64-character ROM."},{id:"mc6847t1",partNumber:"MC6847T1",manufacturer:"Motorola",type:"Video Display Generator (enhanced)",glyph:{width:5,height:7},glyphCount:96,usedIn:[],notes:"Enhanced version with 96 characters including lowercase."},{id:"mcm6673",partNumber:"MCM6673",manufacturer:"Motorola",type:"Mask ROM (custom)",glyph:{width:5,height:8},glyphCount:128,usedIn:["TRS-80 Model I"],notes:"Custom for Radio Shack. Outputs 5 bits per row."},{id:"mcm6674",partNumber:"MCM6674",manufacturer:"Motorola",type:"Mask ROM",glyph:{width:5,height:8},glyphCount:128,usedIn:[],notes:"General-purpose character generator for terminals."},{id:"saa5050",partNumber:"SAA5050",manufacturer:"Mullard/Philips",type:"Teletext Character Generator",glyph:{width:5,height:9},glyphCount:96,usedIn:["BBC Micro","Philips P2000"],notes:"Teletext IC. Internal 5x9 font interpolated to 10x18."},{id:"signetics-2513",partNumber:"2513",manufacturer:"Signetics",type:"Mask ROM",glyph:{width:5,height:7},glyphCount:64,usedIn:["Apple II"],notes:"One of the earliest character generator ROMs."},{id:"sinclair-spectrum-rom",partNumber:"Spectrum ROM",manufacturer:"Sinclair",type:"System ROM (embedded font)",glyph:{width:8,height:8},glyphCount:96,usedIn:["ZX Spectrum"],notes:"Font at end of 16KB ROM; 768 bytes for custom fonts."},{id:"tms9918",partNumber:"TMS9918A",manufacturer:"Texas Instruments",type:"Video Display Processor (VDP)",glyph:{width:8,height:8},glyphCount:256,usedIn:["TI-99/4A","ColecoVision","MSX","Sega SG-1000","Sega SC-3000"],notes:"No internal font; patterns stored in 16KB VRAM."}],n=(()=>{let e=new Map;for(let t of a)e.has(t.manufacturer)||e.set(t.manufacturer,[]),e.get(t.manufacturer).push(t.system);return Array.from(e.entries()).map(([e,t])=>({manufacturer:e,systems:t}))})(),i=a.filter(e=>void 0!==e.characterRom),s=i.map(e=>({system:e.system,manufacturer:e.manufacturer,width:e.characterRom.width,height:e.characterRom.height})),l=i.map(e=>({system:e.system,manufacturer:e.manufacturer,count:e.characterRom.characterCount}));function c(e,t){return i.filter(r=>r.characterRom.width===e&&r.characterRom.height===t).map(e=>e.system)}function d(e){return i.filter(t=>t.characterRom.characterCount===e).map(e=>e.system)}function h(){let e={};for(let t of s)e[t.manufacturer]||(e[t.manufacturer]=[]),e[t.manufacturer].push(t);return e}function m(){let e={};for(let t of l)e[t.manufacturer]||(e[t.manufacturer]=[]),e[t.manufacturer].push(t);return e}c(8,8),c(5,7),c(5,8),c(5,9),d(64),d(96),d(128),d(213),d(256);let u=o.map(e=>({id:e.id,partNumber:e.partNumber,manufacturer:e.manufacturer,width:e.glyph.width,height:e.glyph.height,usedIn:e.usedIn})),p=o.map(e=>({id:e.id,partNumber:e.partNumber,manufacturer:e.manufacturer,count:e.glyphCount,usedIn:e.usedIn}));function g(){let e={};for(let t of u)e[t.manufacturer]||(e[t.manufacturer]=[]),e[t.manufacturer].push(t);return e}function x(){let e={};for(let t of p)e[t.manufacturer]||(e[t.manufacturer]=[]),e[t.manufacturer].push(t);return e}function y(e){return o.filter(t=>t.usedIn.some(t=>t.toLowerCase()===e.toLowerCase()))}e.s(["KNOWN_MANUFACTURERS",0,n,"ROM_CHIPS",0,o,"getRomChipCharacterCountPresetsByManufacturer",()=>x,"getRomChipPresetsByManufacturer",()=>g,"getRomChipsForSystem",()=>y,"getSystemCharacterCountPresetsByManufacturer",()=>m,"getSystemPresetsByManufacturer",()=>h],39233);var b=e.i(7540);function f({alignRight:e=!0,width:r=240,maxHeight:a=320,dropUp:o=!1,children:n,className:i=""}){return(0,t.jsx)("div",{className:`absolute z-50 ${o?"bottom-full mb-1":"top-full mt-1"} overflow-y-auto bg-retro-navy border border-retro-grid/50 rounded-lg shadow-xl ${i}`,style:{width:`${r}px`,maxHeight:`${a}px`,...e?{right:0}:{left:0}},children:n})}function C({title:e,showDivider:r=!1}){return(0,t.jsxs)(t.Fragment,{children:[r&&(0,t.jsx)("div",{className:"border-t border-retro-grid/30"}),(0,t.jsx)("div",{className:"px-2 pt-2 pb-1",children:(0,t.jsx)("div",{className:"text-[10px] text-retro-cyan uppercase font-medium",children:e})})]})}function w({title:e,showDivider:r=!1,children:a}){return(0,t.jsx)("div",{className:r?"border-t border-retro-grid/30":"",children:(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("div",{className:"text-[10px] text-retro-cyan uppercase font-medium mb-2",children:e}),a]})})}function S({label:e,onClick:r,isSelected:a=!1,children:o}){let n=r?`w-full text-left px-2 py-1 text-xs font-medium rounded transition-all ${a?"text-retro-cyan bg-retro-cyan/30 ring-1 ring-retro-cyan":"text-retro-cyan bg-retro-cyan/10 hover:bg-retro-cyan/20 hover:text-white"}`:"w-full text-left px-2 py-1 text-xs font-medium text-retro-cyan bg-retro-cyan/10 rounded";return(0,t.jsxs)("div",{className:"mb-3 last:mb-0",children:[(0,t.jsx)(r?"button":"div",{onClick:r,className:n,children:e}),(0,t.jsx)("div",{className:"ml-3 mt-1 flex flex-wrap gap-1",children:o})]})}function v({label:e,isSelected:r=!1,variant:a="amber",className:o="",...n}){return(0,t.jsx)("button",{type:"button",className:`px-2 py-0.5 text-xs rounded transition-all disabled:opacity-50 ${{amber:r?"bg-retro-amber/40 text-retro-amber ring-1 ring-retro-amber":"bg-retro-amber/15 text-retro-amber hover:bg-retro-amber/30 hover:text-white",pink:r?"bg-retro-pink/40 text-retro-pink ring-1 ring-retro-pink":"bg-retro-pink/15 text-retro-pink hover:bg-retro-pink/30 hover:text-white",cyan:r?"bg-retro-cyan/40 text-retro-cyan ring-1 ring-retro-cyan":"bg-retro-cyan/15 text-retro-cyan hover:bg-retro-cyan/30 hover:text-white"}[a]} ${o}`,...n,children:e})}function M({onClick:e,label:r="Clear selection"}){return(0,t.jsx)("div",{className:"p-2 border-b border-retro-grid/30",children:(0,t.jsx)("button",{onClick:e,className:"w-full text-left px-2 py-1 text-xs text-gray-400 hover:text-white hover:bg-retro-grid/20 rounded transition-colors",children:r})})}let I=(0,r.forwardRef)(function({children:e="...",className:r="",...a},o){return(0,t.jsx)("button",{ref:o,type:"button",className:`px-3 py-2 bg-gradient-to-b from-gray-600/50 to-gray-700/50 border border-retro-cyan/50 border-t-retro-cyan/70 hover:from-gray-500/50 hover:to-gray-600/50 hover:border-retro-cyan active:from-gray-700/50 active:to-gray-800/50 shadow-md shadow-black/30 active:shadow-sm rounded text-sm text-retro-cyan transition-all disabled:opacity-50 disabled:cursor-not-allowed ${r}`,...a,children:e})});I.displayName="Picker3DButton";let R="flex-1 min-w-0 px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan disabled:opacity-50 disabled:cursor-not-allowed";function N({manufacturer:e,system:a,onManufacturerChange:o,onSystemChange:i,disabled:s=!1,className:l=""}){let c=(0,b.useDropdown)(),d=(0,r.useMemo)(()=>[...n].sort((e,t)=>e.manufacturer.localeCompare(t.manufacturer)),[]);return(0,t.jsxs)("div",{className:`flex gap-2 ${l}`,children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>o(e.target.value),placeholder:"Manufacturer",disabled:s,className:R}),(0,t.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"System",disabled:s,className:R}),(0,t.jsxs)("div",{ref:c.ref,className:"relative flex-shrink-0",children:[(0,t.jsx)(I,{onClick:c.toggle,disabled:s,title:"Select manufacturer and system"}),c.isOpen&&(0,t.jsxs)(f,{children:[(e||a)&&(0,t.jsx)(M,{onClick:()=>{o(""),i(""),c.close()}}),(0,t.jsx)("div",{className:"p-2",children:d.map(r=>(0,t.jsx)(S,{label:r.manufacturer,onClick:()=>{o(r.manufacturer),i(""),c.close()},isSelected:e===r.manufacturer&&!a,children:r.systems.map(n=>(0,t.jsx)(v,{label:n,isSelected:e===r.manufacturer&&a===n,onClick:()=>{var e;return e=r.manufacturer,void(o(e),i(n),c.close())}},n))},r.manufacturer))})]})]})]})}function j({chip:e,onChipChange:a,system:n,disabled:i=!1,className:s=""}){let l=(0,b.useDropdown)(),c=(0,r.useMemo)(()=>Object.entries(function(){let e={};for(let t of o)e[t.manufacturer]||(e[t.manufacturer]=[]),e[t.manufacturer].push(t);return e}()).sort(([e],[t])=>e.localeCompare(t)),[]),d=(0,r.useMemo)(()=>n?new Set(o.filter(e=>e.usedIn.some(e=>e.toLowerCase()===n.toLowerCase())).map(e=>e.id)):new Set,[n]),h=(e,t)=>{a(`${t} ${e}`),l.close()},m=(t,r)=>e===`${r} ${t}`||e===t;return(0,t.jsxs)("div",{className:`flex gap-2 ${s}`,children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"e.g. MOS Technology 901225-01",disabled:i,className:R}),(0,t.jsxs)("div",{ref:l.ref,className:"relative flex-shrink-0",children:[(0,t.jsx)(I,{onClick:l.toggle,disabled:i,title:"Select ROM chip"}),l.isOpen&&(0,t.jsxs)(f,{children:[e&&(0,t.jsx)(M,{onClick:()=>{a(""),l.close()}}),n&&d.size>0&&(0,t.jsx)(w,{title:`Compatible with ${n}`,children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:o.filter(e=>d.has(e.id)).map(e=>(0,t.jsx)(v,{label:e.partNumber,isSelected:m(e.partNumber,e.manufacturer),onClick:()=>h(e.partNumber,e.manufacturer),title:`${e.manufacturer} - ${e.type} - ${e.glyph.width}x${e.glyph.height}`},e.id))})}),(0,t.jsx)("div",{className:"p-2",children:c.map(([e,r])=>(0,t.jsx)(S,{label:e,children:r.map(e=>(0,t.jsx)(v,{label:e.partNumber,isSelected:m(e.partNumber,e.manufacturer),onClick:()=>h(e.partNumber,e.manufacturer),title:`${e.type} - ${e.glyph.width}x${e.glyph.height}${e.usedIn.length>0?` - Used in: ${e.usedIn.join(", ")}`:""}`},e.id))},e))})]})]})]})}function k({name:e,onNameChange:a,description:o,onDescriptionChange:n,manufacturer:i,onManufacturerChange:s,system:l,onSystemChange:c,chip:d,onChipChange:h,locale:m,onLocaleChange:u,source:p,onSourceChange:g,autoFocusName:x=!1,compact:b=!1,idPrefix:f="metadata"}){let C=(0,r.useCallback)(e=>{if(c(e),!d&&e){let t=y(e);if(t.length>0){let e=t[0];h(`${e.manufacturer} ${e.partNumber}`)}}},[d,c,h]);return(0,t.jsxs)("div",{className:b?"space-y-4":"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:`${f}-name`,className:"block text-sm text-gray-300 mb-1",children:["Name ",(0,t.jsx)("span",{className:"text-retro-pink",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:`${f}-name`,value:e,onChange:e=>a(e.target.value),placeholder:"My Character Set",className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan",autoFocus:x})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:`${f}-description`,className:"block text-sm text-gray-300 mb-1",children:"Description"}),(0,t.jsx)("textarea",{id:`${f}-description`,value:o,onChange:e=>n(e.target.value),placeholder:"Optional description...",rows:2,className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan resize-none"})]}),(0,t.jsxs)("div",{children:[b&&(0,t.jsx)("label",{className:"block text-sm text-gray-300 mb-1",children:"Manufacturer & System"}),(0,t.jsx)(N,{manufacturer:i,system:l,onManufacturerChange:s,onSystemChange:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:`${f}-chip`,className:"block text-sm text-gray-300 mb-1",children:"ROM Chip"}),(0,t.jsx)(j,{chip:d,onChipChange:h,system:l})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:`${f}-locale`,className:"block text-sm text-gray-300 mb-1",children:"Locale"}),(0,t.jsx)("input",{type:"text",id:`${f}-locale`,value:m,onChange:e=>u(e.target.value),placeholder:"e.g., English, German, Japanese",className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:`${f}-source`,className:"block text-sm text-gray-300 mb-1",children:b?"Source / Attribution":"Source"}),(0,t.jsx)("input",{type:"text",id:`${f}-source`,value:p,onChange:e=>g(e.target.value),placeholder:b?"yourself":"Where did this ROM come from?",className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-sm text-white placeholder-gray-500 focus:outline-none focus:border-retro-cyan"})]})]})}e.s(["DropdownChipButton",()=>v,"DropdownClearButton",()=>M,"DropdownGroup",()=>S,"DropdownPanel",()=>f,"DropdownSection",()=>w,"DropdownSectionHeader",()=>C,"Picker3DButton",0,I,"pickerInputClasses",0,R],94971),e.s(["MetadataFormFields",()=>k],28339)}]);