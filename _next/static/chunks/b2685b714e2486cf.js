(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},93733,e=>{"use strict";var t=e.i(43476);let a={pink:"neon-pink",cyan:"neon-cyan",violet:"neon-violet"};function r({className:e="",color:r="pink",as:s="span",pulse:n=!1,children:l,...i}){return(0,t.jsx)(s,{className:`${a[r]} ${n?"animate-pulse":""} ${e}`,...i,children:l})}e.s(["NeonText",()=>r])},59544,e=>{"use strict";var t=e.i(43476),a=e.i(71645);let r={pink:"btn-neon btn-neon-pink",cyan:"btn-neon btn-neon-cyan",ghost:"bg-transparent text-retro-cyan hover:text-retro-pink transition-colors"},s={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},n=(0,a.forwardRef)(({className:e="",variant:a="pink",size:n="md",children:l,href:i,...o},c)=>{let d=`inline-flex items-center justify-center font-ui font-semibold uppercase tracking-wider rounded transition-all duration-300 ${r[a]} ${s[n]} ${e}`;return i?(0,t.jsx)("a",{href:i,className:d,children:l}):(0,t.jsx)("button",{ref:c,className:d,...o,children:l})});n.displayName="Button",e.s(["Button",0,n])},80710,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),s=e.i(22016),n=e.i(3374),l=e.i(58234),i=e.i(28540),o=e.i(59544),c=e.i(93733);e.i(3813);var d=e.i(4941),u=e.i(93949);e.i(7259);var m=e.i(66811);function x(){let e=(0,r.useRouter)(),{characterSets:x,loading:h,error:b,refresh:y,deleteSet:p,saveAs:f,rename:g,togglePinned:j,availableSizes:C,getById:k}=(0,m.useCharacterLibrary)(),[v,w]=(0,a.useState)(""),[N,S]=(0,a.useState)([]),[F,L]=(0,a.useState)([]),[R,E]=(0,a.useState)([]),[M,$]=(0,a.useState)([]),T=(0,a.useMemo)(()=>{let e=new Set;return x.forEach(t=>{t.metadata.manufacturer&&e.add(t.metadata.manufacturer)}),Array.from(e).sort()},[x]),A=(0,a.useMemo)(()=>{let e=new Set;return x.forEach(t=>{t.metadata.system&&e.add(t.metadata.system)}),Array.from(e).sort()},[x]),[B,O]=(0,a.useState)(null),[D,P]=(0,a.useState)(!1),[z,G]=(0,a.useState)(null),[K,I]=(0,a.useState)(""),[U,_]=(0,a.useState)(!1),H=(0,a.useMemo)(()=>{let e=x;if(v.trim()){let t=v.toLowerCase();e=e.filter(e=>e.metadata.name.toLowerCase().includes(t)||e.metadata.description.toLowerCase().includes(t)||e.metadata.source.toLowerCase().includes(t)||e.metadata.manufacturer&&e.metadata.manufacturer.toLowerCase().includes(t)||e.metadata.system&&e.metadata.system.toLowerCase().includes(t))}return N.length>0&&(e=e.filter(e=>N.includes(e.config.width))),F.length>0&&(e=e.filter(e=>F.includes(e.config.height))),R.length>0&&(e=e.filter(e=>e.metadata.manufacturer&&R.includes(e.metadata.manufacturer))),M.length>0&&(e=e.filter(e=>e.metadata.system&&M.includes(e.metadata.system))),[...e].sort((e,t)=>{let a=+!!e.metadata.isPinned,r=+!!t.metadata.isPinned;return a!==r?r-a:t.metadata.updatedAt-e.metadata.updatedAt})},[x,v,N,F,R,M]),Q=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/edit?id=${t}`)},[e]),W=(0,a.useCallback)(t=>{e.push(`/tools/character-rom-editor/export?id=${t}`)},[e]),q=(0,a.useCallback)(async e=>{O(e)},[]),J=(0,a.useCallback)(async()=>{if(B)try{P(!0),await p(B)}catch(e){console.error("Failed to delete:",e)}finally{P(!1),O(null)}},[B,p]),V=(0,a.useCallback)(async t=>{try{let a=await k(t);if(a){let t=`${a.metadata.name} (Copy)`,r=await f(a,t);e.push(`/tools/character-rom-editor/edit?id=${r}`)}}catch(e){console.error("Failed to duplicate:",e)}},[k,f,e]),X=(0,a.useCallback)(()=>{e.push("/tools/character-rom-editor/import")},[e]),Y=(0,a.useCallback)(()=>{e.push("/tools/character-rom-editor/add")},[e]),Z=(0,a.useCallback)(e=>{let t=x.find(t=>t.metadata.id===e);t&&(G(e),I(t.metadata.name))},[x]),ee=(0,a.useCallback)(async e=>{try{await j(e)}catch(e){console.error("Failed to toggle pinned:",e)}},[j]),et=(0,a.useCallback)(async()=>{if(z&&K.trim())try{_(!0),await g(z,K.trim())}catch(e){console.error("Failed to rename:",e)}finally{_(!1),G(null),I("")}},[z,K,g]),ea=(0,a.useCallback)((e,t)=>{S(e),L(t)},[]),er=(0,a.useCallback)(e=>{E(e)},[]),es=(0,a.useCallback)(e=>{$(e)},[]),en=(0,a.useCallback)(()=>{w(""),S([]),L([]),E([]),$([])},[]),el=v.length>0||N.length>0||F.length>0||R.length>0||M.length>0,ei=B?x.find(e=>e.metadata.id===B):null,eo=z?x.find(e=>e.metadata.id===z):null;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col safe-top",children:[(0,t.jsx)(n.Header,{}),(0,t.jsx)("main",{className:"flex-1 bg-retro-dark pt-24 pb-12",children:(0,t.jsxs)(i.Container,{children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)(s.default,{href:"/tools",className:"text-xs text-gray-500 hover:text-retro-cyan transition-colors mb-2 inline-flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Tools"]}),(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-display",children:(0,t.jsx)(c.NeonText,{color:"pink",children:"Character ROM Editor"})}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Design, edit, and export character sets for vintage display systems"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(o.Button,{href:"/tools/character-rom-editor/add",variant:"pink",children:"Add ROM"}),(0,t.jsx)(o.Button,{href:"/tools/character-rom-editor/import",variant:"cyan",children:"Import ROM"})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(u.LibraryFilters,{searchQuery:v,onSearchChange:w,availableSizes:C,widthFilters:N,heightFilters:F,onSizeFilterChange:ea,availableManufacturers:T,availableSystems:A,manufacturerFilters:R,systemFilters:M,onManufacturerFilterChange:er,onSystemFilterChange:es,totalCount:x.length,filteredCount:H.length})}),b?(0,t.jsx)(d.LibraryGridError,{error:b,onRetry:y}):el&&0===H.length?(0,t.jsx)(d.LibraryGridEmptyResults,{onClearFilters:en}):(0,t.jsx)(d.LibraryGrid,{characterSets:H,loading:h,onEdit:Q,onExport:W,onDelete:q,onDuplicate:V,onRename:Z,onTogglePinned:ee,onImport:X,onCreate:Y})]})}),(0,t.jsx)(l.Footer,{}),B&&ei&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>O(null)}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Delete Character Set"}),(0,t.jsxs)("p",{className:"text-sm text-gray-400 mb-4",children:['Are you sure you want to delete "',ei.metadata.name,'"? This action cannot be undone.']}),(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:()=>O(null),className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:D,children:"Cancel"}),(0,t.jsx)("button",{onClick:J,className:"px-4 py-2 text-sm bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 transition-colors disabled:opacity-50",disabled:D,children:D?"Deleting...":"Delete"})]})]})]}),z&&eo&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>{G(null),I("")}}),(0,t.jsxs)("div",{className:"relative bg-retro-navy border border-retro-grid/50 rounded-lg p-6 max-w-md w-full shadow-xl",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Rename Character Set"}),(0,t.jsx)("input",{type:"text",value:K,onChange:e=>I(e.target.value),onKeyDown:e=>{"Enter"===e.key&&K.trim()?et():"Escape"===e.key&&(G(null),I(""))},className:"w-full px-3 py-2 bg-retro-dark border border-retro-grid/50 rounded text-gray-200 text-sm focus:outline-none focus:border-retro-cyan transition-colors",placeholder:"Enter new name...",autoFocus:!0,disabled:U}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{onClick:()=>{G(null),I("")},className:"px-4 py-2 text-sm text-gray-400 hover:text-gray-200 transition-colors",disabled:U,children:"Cancel"}),(0,t.jsx)("button",{onClick:et,className:"px-4 py-2 text-sm bg-retro-cyan/20 text-retro-cyan rounded hover:bg-retro-cyan/30 transition-colors disabled:opacity-50",disabled:U||!K.trim(),children:U?"Renaming...":"Rename"})]})]})]})]})}e.s(["CharacterEditorLibrary",()=>x])}]);